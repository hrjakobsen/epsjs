% Set up a font for printing the results
/Courier findfont 7 scalefont setfont
0 10 moveto

% --- Define the Safe Divide Procedure ---
/safeDivide {
    % Stack expects: numerator denominator
    % We wrap the division in a procedure for 'stopped' to run
    {
        div
    } stopped

    % Stack now contains: result (if successful) boolean_status
    % OR: numerator denominator boolean_status (if failed/stopped)

    {
        % --- SUCCESS CASE (stopped returned false) ---
        % Convert the number to a string and show it
        (Success: ) show
        20 string cvs show
    }
    {
        % --- ERROR CASE (stopped returned true) ---
        (Error: Cannot divide by zero.) show
        % Clean up the unused numbers from the stack
        % (since 'div' failed, the inputs are still there)
        pop pop
    }
     ifelse

    % Move to a new line for the next output
    currentpoint pop -1 mul 20 rmoveto
} def

% --- Test Cases ---

% 1. Try a valid division: 100 / 4
(Testing 100 / 4: ) show
100 4 safeDivide

% 2. Try an invalid division: 100 / 0
(Testing 100 / 0: ) show
100 0 safeDivide

% 3. Try another valid division: 50 / 2
(Testing 50 / 2: ) show
50 2 safeDivide
